<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <title>Plague Doc's search engine</title>
    <!-- link rel="stylesheet" href="./plague_styles.css" - i don't think this works but i'll keep it as a comment -->

<style>
h3 {text-align: center;}
h1 {text-align: center;}
p {text-align: center;}
form {text-align: center;}
table {text-align: center;}

input.bar {background-color: snow;border-radius: 12px;font-family: 'Courier New', Courier, monospace;font-size: smaller;}
input.bar:focus {
    outline: none;
    border:3px solid gainsboro;
}
input.button {
    background-color: snow;
    border-radius: 12px;
    font-family: 'Courier New', Courier, monospace;
    font-size: smaller;
}

body {
    background-color:mistyrose;
    font-family: 'Courier New', monospace;
}

table, th, td {
  border: 1px hidden;
  border-radius: 10px;
  background-color: snow;
}

table.center {
  margin-left: auto; 
  margin-right: auto;
}

th, td {
  padding-top: 30px;
  padding-bottom: 20px;
  padding-left: 30px;
  padding-right: 40px;
}
</style>
</head>

<body>
    <h3>the plague doctors welcome you! </h3>
    <h1>Enter a query</h1>
    <form>
        <input class="bar" type= "text" name="query" autofocus>
        <input class="button" type="submit" value="Search">
    </form>

    <p>  
    {% if matches is defined and matches|length > 0 %}

we were able to match <b>{{matches|length}}</b> movie(s) to <b>{{ search_query }}</b>:
    </p>
    <p>
<td><img src="/static/bar_graph.png" style="width: 400px; height 100%"></td>  
    {% if matches|length < 20 %}
        <table>
            <tr>
                <th>best match</th>
                <th>Movie</th>
                <th>Year</th>
                <th>Dialogue</th>
            </tr>
            {% for item in matches %}
                <tr>
                    <td>
                        {{ item['score'][:5] }} 
                    </td>
                    <td style="color:red;">
                        {{ item['name'] }}
                    </td>
                    <td>
                        {{ item['year'] }}
                    </td>
                    <td>
                        {{ item['dialogue'][:1000] }}
                    </td>
                </tr>
            {% endfor %}
         </table>
    {% else %}
<p>
these are the 20 best matches:
</p>
        <table>
            <tr>
                <th>best match</th>
                <th>Movie</th>
                <th>Year</th>
                <th>Dialogue</th>
            </tr>
            {% for item in matches[:20] %}
                <tr>
                    <td>
                        {{ item['score'][:5] }}
                    </td>
                    <td style="color:red;">
                        {{ item['name'] }}
                    </td>
                    <td>
                        {{ item['year'] }}
                    </td>
                    <td>
                        {{ item['dialogue'][:1000] }}
                    </td>
                </tr>
            {% endfor %}
         </table>
there are {{matches|length - 20}} matches left! 
    {% endif %} 
    {% else %}
       
we beg of you, enter a query
        </p>
        <!-- there were no matches found (is essentially what i wanna write here) -->
    {% endif %}
    </p>

</body>

</html>

